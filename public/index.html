<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="./js/jquery-3.4.1.slim.min.js"></script>
    <script src="./js/popper.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <!-- Replace with Local-->
    <script src="./js/bootstrap-select.min.js"></script>
    <script src="./js/bootstrap-select-country.min.js"></script>
    <link rel="stylesheet" href="./css/bootstrap-select.min.css" type="text/css" />
    <link rel="stylesheet" href="./css/bootstrap-select-country.min.css" type="text/css" />

    <style>
        #background-video {
        position: fixed;
        right: 0;
        bottom: 0;
        min-width: 100%;
        min-height: 100%;
        z-index: -5;
        }

        footer
        {
          margin-top: 100px;
          background: #999;
          opacity: 0.4; 
          display: -webkit-box;
          display: -moz-box;
          display: -ms-flexbox;
          display: -webkit-flex;
          display: flex;
          align-items: center;
          justify-content: center;
          border-top-left-radius: 25px;
          border-top-right-radius: 25px;
        }

        footer:hover
        {
          margin-top: 100px;
          background: black;
          color: white;
          display: -webkit-box;
          display: -moz-box;
          display: -ms-flexbox;
          display: -webkit-flex;
          display: flex;
          align-items: center;
          justify-content: center;
          border-top-left-radius: 25px;
          border-top-right-radius: 25px;
        }

        .container {
        display: -webkit-box;
        display: -moz-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        align-items: center;
        justify-content: center;
        }

        .card {
          border: 3px solid;
          padding-bottom: 3%;
          width: 25rem;
          margin-bottom: -15px;
        }
        
        .rounded {
          border-radius: 25px;
        }

      hr {
        border-top: 2px solid rgba(0,0,0,.1);
      }

/*
Make Bootstrap-select (a Bootstrap 3 plugin) work with Bootstrap 4
*/
      .dropdown-toggle.btn-default {
  color: #292b2c;
  background-color: #fff;
  border-color: #ccc;
}
.bootstrap-select.show > .dropdown-menu > .dropdown-menu {
  display: block;
}
.bootstrap-select > .dropdown-menu > .dropdown-menu li.hidden {
  display: none;
}
.bootstrap-select > .dropdown-menu > .dropdown-menu li a {
  display: block;
  width: 100%;
  padding: 3px 1.5rem;
  clear: both;
  font-weight: 400;
  color: #292b2c;
  text-align: inherit;
  white-space: nowrap;
  background: 0 0;
  border: 0;
  text-decoration: none;
}
.bootstrap-select > .dropdown-menu > .dropdown-menu li a:hover {
  background-color: #f4f4f4;
}
.bootstrap-select > .dropdown-toggle {
  width: 100%;
}
.dropdown-menu > li.active > a {
  color: #fff !important;
  background-color: #337ab7 !important;
}
.bootstrap-select .check-mark {
  line-height: 14px;
}
.bootstrap-select .check-mark::after {
  font-family: "FontAwesome";
  content: "\f00c";
}
.bootstrap-select button {
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Make filled out selects be the same size as empty selects */
.bootstrap-select.btn-group .dropdown-toggle .filter-option {
  display: inline !important;
}

    </style>
    <title>Weather App!</title>

  </head>

  <body>
    <a href="https://openweatherpanel.onrender.com/"><img width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_left_darkblue_121621.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>    <h1 id="hide-js" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);">You need to enable JavaScript to see this page!</h1>

    <div id="js-enabled" style="display: none">

<center>
          <!-- Card for Main Weather Information-->
          <div class="container">
            <div class="card" id = "card-main" >
              <div class="card-header rounded" id="card-top">
                <img class="card-img-top" id="weather_icon" src="./media/loading.gif" style="width: 128px; height: 128px; margin-left: auto; margin-right: auto; align-items: center; justify-content: center;">
              </div>
              <div class="card-body">
                <h5 class="card-title">Current Weather</h5>
                <p class="card-text"> <span id="msg_user"> </span><strong id='city_name'></strong></p>
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col"></th>
                      <th scope="col"></th>
                      <th scope="col">Statistics</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><img src="/media/img/icon-description.png" height="24" width="24"> </td>
                      <td class="text-color-show-inf" >Weather Today</td>
                      <td class="text-color-show-inf" id="current_weather_descp">Waiting...</td>
                    </tr>
                    <tr>
                      <td><img src="/media/img/icon-temp.png"  height="24" width="24"> </td>
                      <td class="text-color-show-inf"  >Current Temperature</td>
                      <td class="text-color-show-inf"  id="current_temp">Waiting...</td>
                    </tr>
                    <tr>
                      <td><img src="/media/img/icon-feels-like.png"  height="24" width="24"> </td>
                      <td class="text-color-show-inf" >Feels Like</td>
                      <td class="text-color-show-inf" id="current_feels_like">Waiting...</td>
                    </tr>
                    <tr>
                      <td><img src="/media/img/icon-max-temp.png"  height="24" width="24"> </td>
                      <td class="text-color-show-inf" >Maximum Temperature</td>
                      <td class="text-color-show-inf"  id="current_max">Waiting...</td>
                    </tr>
                    <tr>
                      <td><img src="/media/img/icon-min-temp.png"  height="24" width="24"> </td>
                      <td class="text-color-show-inf" >Minimum Temperature</td>
                      <td class="text-color-show-inf" id="current_min">Waiting...</td>
                    </tr>
                    <tr>
                      <td><img src="/media/img/icon-windspeed.png"  height="24" width="24"> </td>
                      <td class="text-color-show-inf" >Wind Speed</td>
                      <td class="text-color-show-inf" id="current_wind_speed">Waiting...</td>
                    </tr>
                  </tbody>
                </table>
                <!-- Fahrenheit/Celsius toggle -->
                <button type="submit" class="btn btn-primary mb-2" onclick="toggleCelsius(event)">Use Celsius</button>
                <!-- Card to search zip codes-->
                <hr style="margin: 55px;">
                <table class="table">

                  <p class="card-text" style="font-weight: bold;">If the city is wrong or you want to search another city, you can search using a Postal Code & Country <img src="/media/img/country-flag.png"  height="24" width="24"> or use your Geolocation <img src="/media/img/globe.png"  height="24" width="24">)<p>
                  <input type="text" class="form-control mb-2" id="zipCodeForm" placeholder="Enter Zip Code">

                  <select class="selectpicker countrypicker" data-flag="true" id="countrySelect"></select>

                  <script>
                    $('.countrypicker').countrypicker();
                  </script>
                  
                  <div class="col-auto">
                    <button type="submit" class="btn btn-primary mb-2" onclick="callOnZip()"><img src="/media/img/search-mag-glass.png"  height="24" width="24"> Zip Code</button>
                    <button type="submit" class="btn btn-primary mb-2" onclick="callOnGeo()"><img src="/media/img/search-geoloc.png"  height="24" width="24"> Geolocation</button>
                  </div>
                </table>

              </div>
            </div>
          </div>
          <!-- End of Container-->
</center>
    </div>

    <!-- Error Modal Here-->
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Error!</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="ModalErrorInfoShow">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
    <!-- End of Error Modal Here-->

    <footer style="font-weight: bold;"><span id="background-credit">#</span> - <span id="background-credit-url">#</span></footer>
    <video autoplay muted loop id="background-video">
      <source src="" type="video/mp4">
  </video>
          <!-- Load Functions -->
          <script src='./js/functions.js'></script>
          <script>
        loadFirstTime();
        //Unhide if Javascript is enabled
        document.getElementById("js-enabled").setAttribute("style", "display: block;");
        document.getElementById("hide-js").setAttribute("style", "display: none");
          </script>
  </body>
</html>
